[package]
name = "dashboard-api"
version = "1.0.0"
edition = "2021"
authors = ["MEV Team"]

[dependencies]
# Core async runtime
tokio = { workspace = true }
tokio-util = { workspace = true }
async-trait = { workspace = true }

# Web framework - using axum for ultra-low latency
axum = { version = "0.7", features = ["ws", "macros", "json", "query", "tracing"] }
axum-extra = { version = "0.9", features = ["typed-header"] }
tower = { workspace = true }
tower-http = { version = "0.6", features = ["cors", "trace", "compression-gzip", "compression-br"] }
hyper = { workspace = true }

# WebSocket
tokio-tungstenite = "0.24"
futures-util = { workspace = true }

# Solana
solana-sdk = { workspace = true }
solana-client = { workspace = true }
solana-rpc-client = { workspace = true }
solana-rpc-client-api = { workspace = true }

# Shared types
shared-types = { path = "../../shared-types" }

# Data structures
dashmap = { workspace = true }
parking_lot = { workspace = true }
arc-swap = { workspace = true }
ahash = { workspace = true }
crossbeam = { workspace = true }

# Metrics and monitoring
prometheus = { workspace = true }
opentelemetry = { workspace = true }
tracing = { workspace = true }
tracing-subscriber = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }
bincode = { workspace = true }

# Database and caching
clickhouse = { workspace = true }
redis = { workspace = true }
sqlx = { workspace = true }

# Message streaming
rdkafka = { workspace = true }
futures = { workspace = true }
async-stream = { workspace = true }

# Error handling
thiserror = { workspace = true }
anyhow = { workspace = true }

# Utilities
chrono = { workspace = true }
uuid = { workspace = true }
clap = { workspace = true }
config = { workspace = true }
dotenv = { workspace = true }
once_cell = { workspace = true }

# Performance monitoring
cpu-time = { workspace = true }
libc = { workspace = true }
nix = { workspace = true }

# ML support for models
ort = { workspace = true }

# Data formats
csv = "1.3"
parquet = { version = "53", features = ["async"] }
arrow = { version = "53", features = ["prettyprint"] }

# Compression
flate2 = "1.0"
zstd = "0.13"

[dev-dependencies]
criterion = "0.5"
proptest = "1.6"

[[bench]]
name = "api_benchmarks"
harness = false