(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{4483:function(e,t,n){Promise.resolve().then(n.bind(n,9761))},9761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),a=n(2265);let s="ws://localhost:8000/ws/realtime",o="https://localhost:8000/rt";var i=n(9411);function c(e){let{rows:t}=e,n=(0,a.useRef)(null),s=(0,i.MG)({count:t.length,getScrollElement:()=>n.current,estimateSize:()=>32,overscan:20});return(0,r.jsx)("div",{ref:n,className:"h-[360px] overflow-auto border border-zinc-800 rounded",children:(0,r.jsx)("div",{style:{height:"".concat(s.getTotalSize(),"px"),position:"relative"},children:s.getVirtualItems().map(e=>(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(e.start,"px)")},className:"px-3 py-1 text-xs border-b border-zinc-900",children:JSON.stringify(t[e.index])},e.key))})})}var l=n(5209);function u(e){let{points:t}=e,n=(0,a.useRef)(null),s=(0,a.useRef)();return(0,a.useEffect)(()=>{if(n.current){if(s.current)s.current.setData([t.map(e=>e[0]),t.map(e=>e[1])]);else{s.current=new l.Z({title:"Profit (SOL) vs Time",width:n.current.clientWidth,height:240,series:[{},{label:"Profit",points:{show:!1}}],axes:[{},{label:"SOL"}]},[t.map(e=>e[0]),t.map(e=>e[1])],n.current);let e=()=>s.current.setSize({width:n.current.clientWidth,height:240});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}}},[t]),(0,r.jsx)("div",{ref:n,className:"w-full"})}n(21);let d=(0,n(9099).Ue)(e=>({latest:[],pushLatest:t=>e(e=>({latest:e.latest.length>1e3?[...e.latest.slice(-900),t]:[...e.latest,t]}))}));var f=n(5216);function h(){let e=d(e=>e.pushLatest),t=d(e=>e.latest),[i,l]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let t=()=>{};return(async()=>{try{let r=await (0,f.LP)();t=function(e,t){let r=new Worker(n.tu(new URL(n.p+n.u(317),n.b)),{type:void 0}),a=new Worker(n.tu(new URL(n.p+n.u(321),n.b)),{type:void 0});if(a.onmessage=e=>{var n;(null===(n=e.data)||void 0===n?void 0:n.type)==="batch"&&t(e.data.items)},r.onmessage=e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.type)==="env"&&a.postMessage({type:"env",env:e.data.env})},void 0!==globalThis.WebTransport&&o)return n.e(768).then(n.bind(n,1768)).then(t=>{let{openWT:n,readUnidi:a}=t;(async()=>{try{let t=await n("".concat(o,"?token=").concat(encodeURIComponent(e)));for await(let e of a(t))r.postMessage({type:"frame",buf:e},[e])}catch(n){let t=new WebSocket("".concat(s,"?token=").concat(encodeURIComponent(e)));t.binaryType="arraybuffer",t.onmessage=e=>r.postMessage({type:"frame",buf:e.data},[e.data])}})()}),()=>{};{let t=new WebSocket("".concat(s,"?token=").concat(encodeURIComponent(e)));return t.binaryType="arraybuffer",t.onmessage=e=>r.postMessage({type:"frame",buf:e.data},[e.data]),()=>t.close()}}(r,t=>{for(let n of t){e(n);let t=Date.now()/1e3;l(e=>e.length>3600?[...e.slice(-3e3),[t,Math.random()]]:[...e,[t,Math.random()]])}})}catch(e){}})(),()=>t()},[e]),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)(u,{points:i})}),(0,r.jsx)("div",{children:(0,r.jsx)(c,{rows:t})})]})}},5216:function(e,t,n){"use strict";async function r(){let e=localStorage.getItem("jwt");if(!e)throw Error("No JWT");return e}async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await r(),n=new Headers(e.headers||{});return n.set("Authorization","Bearer ".concat(t)),{...e,headers:n}}n.d(t,{LP:function(){return r},yi:function(){return a}})}},function(e){e.O(0,[681,765,971,23,744],function(){return e(e.s=4483)}),_N_E=e.O()}]);